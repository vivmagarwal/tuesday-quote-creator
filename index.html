<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple Quote Image Creator</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
    <style>
      body {
        font-family: "Montserrat", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      #quote-container {
        position: relative;
        width: 630px;
        height: 630px;
        background-image: url("./Pawan\ CA\ Quotes.jpg");
        background-size: cover;
        padding: 20px;
        box-sizing: border-box;
      }
      .text {
        position: absolute;
        font-size: 36px;
        line-height: 1.2;
        color: #333;
        text-align: center;
        overflow-wrap: break-word;
        box-sizing: border-box;
        overflow-wrap: break-word;
        word-wrap: break-word;
      }
      #quote {
        top: 40%;
        left: 52%;
        width: 58%;
        height: 34%;
        font-weight: 400;
        transform: translate(-50%, -50%);
        font-size: 32px;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #author {
        bottom: 230px;
        right: 119px;
        width: 58%;
        height: 6%;
        font-size: 20px;
        color: grey;
      }
    </style>
  </head>
  <body>
    <div id="quote-container">
      <div id="quote" class="text" contenteditable="true">
        Making a simple thing difficult is not intelligence. Making a very
        complex thing simple is intelligence.
      </div>
      <div id="author" class="text" contenteditable="true">- Sadhguru</div>
    </div>
    <button id="download">Download as JPEG</button>
    <script>
      function adjustFontSize(element) {
        const parent = element.parentElement;
        const maxWidth = 365;
        const maxHeight = 214;
        let fontSize = 32;

        while (
          element.scrollHeight > maxHeight ||
          element.scrollWidth > maxWidth
        ) {
          fontSize -= 2;
          element.style.fontSize = fontSize + "px";
        }
      }

      const quote = document.getElementById("quote");
      const author = document.getElementById("author");

      quote.addEventListener("input", () => adjustFontSize(quote));
      author.addEventListener("input", () => adjustFontSize(author));
      adjustFontSize(quote);
      adjustFontSize(author);

      document
        .getElementById("download")
        .addEventListener("click", function () {
          html2canvas(document.getElementById("quote-container")).then(
            function (canvas) {
              var link = document.createElement("a");
              link.href = canvas.toDataURL("image/jpeg");
              link.download = "quote-image.jpg";
              link.click();
            }
          );
        });
    </script>
  </body>
</html>
